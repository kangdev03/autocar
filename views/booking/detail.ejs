<%- include("../partials/header") %>

<div class="card" style="max-width:700px; margin:auto;">
  <h2><i class="fas fa-file-invoice"></i> Booking Detail</h2>

  <div style="margin-top: 30px;">
    <div style="background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); padding: 25px; border-radius: 12px; margin-bottom: 20px;">
      <div style="display: flex; align-items: center; gap: 15px; margin-bottom: 20px; padding-bottom: 20px; border-bottom: 2px solid rgba(102, 126, 234, 0.2);">
        <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #667eea, #764ba2); border-radius: 12px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);">
          <i class="fas fa-car" style="color: white; font-size: 1.8rem;"></i>
        </div>
        <div>
          <p style="margin: 0; color: #95a5a6; font-size: 0.85rem; margin-bottom: 5px;">Car Model</p>
          <p style="margin: 0; font-size: 1.5rem; font-weight: 700; color: #2c3e50;"><%= booking.car_id?.name %></p>
        </div>
      </div>

      <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin-bottom: 20px;">
        <div>
          <p style="margin: 0; color: #95a5a6; font-size: 0.85rem; margin-bottom: 8px;"><i class="fas fa-info-circle"></i> Status</p>
          <% if (booking.status === 'confirmed') { %>
            <span style="background: linear-gradient(135deg, #11998e, #38ef7d); color: white; padding: 8px 20px; border-radius: 20px; font-weight: 600; font-size: 0.9rem; display: inline-block; box-shadow: 0 3px 10px rgba(17, 153, 142, 0.3);">
              <i class="fas fa-check-circle"></i> CONFIRMED
            </span>
          <% } else { %>
            <span style="background: linear-gradient(135deg, #f39c12, #e67e22); color: white; padding: 8px 20px; border-radius: 20px; font-weight: 600; font-size: 0.9rem; display: inline-block; box-shadow: 0 3px 10px rgba(243, 156, 18, 0.3);">
              <i class="fas fa-clock"></i> PENDING
            </span>
          <% } %>
        </div>

        <div>
          <p style="margin: 0; color: #95a5a6; font-size: 0.85rem; margin-bottom: 8px;"><i class="fas fa-dollar-sign"></i> Total Cost</p>
          <p style="margin: 0; font-size: 1.8rem; font-weight: 700; background: linear-gradient(135deg, #11998e, #38ef7d); -webkit-background-clip: text; -webkit-text-fill-color: transparent;">
            $<%= booking.total_cost %>
          </p>
        </div>
      </div>
    </div>

    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
      <% if (booking.status !== 'confirmed') { %>
        <form method="POST" action="/bookings/<%= booking._id %>/confirm" style="flex: 1; min-width: 200px;">
          <button type="submit" style="width: 100%; padding: 14px 24px; font-size: 1rem;">
            <i class="fas fa-check-circle"></i> Confirm Booking
          </button>
        </form>
      <% } %>
      <a href="/bookings" style="flex: 1; min-width: 200px;">
        <button type="button" class="btn-secondary" style="width: 100%; padding: 14px 24px; font-size: 1rem;">
          <i class="fas fa-arrow-left"></i> Back to List
        </button>
      </a>
    </div>
  </div>
</div>

<%- include("../partials/footer") %>
