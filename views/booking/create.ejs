<%- include("../partials/header") %>

<div class="card" style="max-width: 600px; margin: 0 auto;">
  <h2><i class="fas fa-calendar-plus"></i> Create Booking</h2>

  <form action="/bookings" method="POST" style="margin-top: 30px;">

    <div style="margin-bottom: 25px;">
      <label><i class="fas fa-car"></i> Select Car</label>
      <select name="carId" required style="width: 100%; padding: 14px 16px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1rem; background: white; cursor: pointer;">
        <option value="">-- Choose a car --</option>
        <% cars.forEach(car => { %>
          <option value="<%= car._id %>" <%= (typeof preselectedCarId !== 'undefined' && preselectedCarId && car._id.toString() === preselectedCarId) ? 'selected' : '' %>>
            <%= car.name %> - $<%= car.pricePerDay %>/day
          </option>
        <% }) %>
      </select>
    </div>

    <div style="margin-bottom: 25px;">
      <label><i class="fas fa-calendar-alt"></i> Start Date</label>
      <input type="date" name="startDate" required style="width: 100%; padding: 14px 16px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1rem;">
    </div>

    <div style="margin-bottom: 30px;">
      <label><i class="fas fa-calendar-check"></i> End Date</label>
      <input type="date" name="endDate" required style="width: 100%; padding: 14px 16px; border: 2px solid #e0e0e0; border-radius: 10px; font-size: 1rem;">
    </div>

    <div style="display: flex; gap: 15px; flex-wrap: wrap;">
      <button type="submit" style="flex: 1; min-width: 150px; padding: 14px 24px; font-size: 1rem;">
        <i class="fas fa-check-circle"></i> Create Booking
      </button>
      <a href="/bookings" style="flex: 1; min-width: 150px;">
        <button type="button" class="btn-secondary" style="width: 100%; padding: 14px 24px; font-size: 1rem; background: linear-gradient(135deg, #95a5a6, #7f8c8d); box-shadow: 0 4px 15px rgba(149, 165, 166, 0.3);">
          <i class="fas fa-times-circle"></i> Cancel
        </button>
      </a>
    </div>
  </form>

  <div style="margin-top: 30px; padding: 20px; background: linear-gradient(135deg, rgba(102, 126, 234, 0.1), rgba(118, 75, 162, 0.1)); border-radius: 10px; border-left: 4px solid #667eea;">
    <p style="margin: 0; color: #2c3e50; font-size: 0.95rem;">
      <i class="fas fa-info-circle" style="color: #667eea;"></i>
      <strong>Note:</strong> Please select your preferred dates carefully. You'll receive a confirmation once your booking is processed.
    </p>
  </div>
</div>

<%- include("../partials/footer") %>
